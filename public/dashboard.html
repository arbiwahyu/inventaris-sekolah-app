<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Inventaris Sekolah</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="dashboard-container">
        <h2>Selamat Datang di Dashboard Inventaris!</h2>
        <p>Anda telah berhasil login sebagai <span id="loggedInUser"></span> (<span id="userRole"></span>).</p>
        <p>Ini adalah tempat di mana Anda akan melihat dan mengelola aset sekolah.</p>

        <div class="dashboard-actions">
            <button id="addAssetButton">Tambah Aset Baru</button>
            <button id="userManagementButton">Manajemen Pengguna</button>
        </div>

        <div class="filter-section">
            <input type="text" id="searchInput" placeholder="Cari aset (Nomor, Nama, PJ, Deskripsi)">
            <select id="categoryFilter">
                <option value="">Semua Kategori</option>
                </select>
            <select id="locationFilter">
                <option value="">Semua Lokasi</option>
                </select>
            <button id="applyFilterButton">Terapkan Filter</button>
            <button id="clearFilterButton">Hapus Filter</button>
        </div>

        <h3>Daftar Aset</h3>
        <table id="assetsTable">
            <thead>
                <tr>
                    <th>No. Inventaris</th>
                    <th>Nama Aset</th>
                    <th>Kategori</th>
                    <th>Lokasi</th>
                    <th>Kondisi</th>
                    <th>Penanggung Jawab</th>
                    <th>Aksi</th>
                </tr>
            </thead>
            <tbody>
                </tbody>
        </table>
        <button id="logoutButton">Logout</button>
    </div>

    <div id="borrowModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h3>Pinjam Aset: <span id="borrowAssetName"></span> (<span id="borrowAssetNomorInventaris"></span>)</h3>
            <form id="borrowForm">
                <input type="hidden" id="borrowAssetId">
                <div class="form-group">
                    <label for="borrowerName">Nama Peminjam:</label>
                    <input type="text" id="borrowerName" required>
                </div>
                <div class="form-group">
                    <label for="returnDateExpected">Tanggal Kembali (Estimasi):</label>
                    <input type="date" id="returnDateExpected">
                </div>
                <div class="form-group">
                    <label for="borrowCondition">Kondisi Saat Pinjam:</label>
                    <input type="text" id="borrowCondition" value="Baik" required>
                </div>
                <div class="form-group">
                    <label for="borrowNotes">Catatan:</label>
                    <textarea id="borrowNotes" rows="3"></textarea>
                </div>
                <button type="submit">Catat Peminjaman</button>
                <p id="borrowMessage" style="color: red; margin-top: 10px;"></p>
            </form>
        </div>
    </div>

    <div id="returnModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h3>Kembalikan Aset: <span id="returnAssetName"></span> (<span id="returnAssetNomorInventaris"></span>)</h3>
            <form id="returnForm">
                <input type="hidden" id="returnBorrowRecordId">
                <div class="form-group">
                    <label for="returnCondition">Kondisi Saat Kembali:</label>
                    <input type="text" id="returnCondition" value="Baik" required>
                </div>
                <div class="form-group">
                    <label for="returnNotes">Catatan Pengembalian:</label>
                    <textarea id="returnNotes" rows="3"></textarea>
                </div>
                <button type="submit">Catat Pengembalian</button>
                <p id="returnMessage" style="color: red; margin-top: 10px;"></p>
            </form>
        </div>
    </div>

    <script src="js/dashboard.js?v=202506021403"></script> 
    <script src="js/authCheck.js?v=202506021403"></script> 
</body>
</html>